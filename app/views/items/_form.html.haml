.form-container
  .form-container__contents
    = form_for [@item] do |f|
      .form-container__contents--menu
        商品名
        %span{ class: "must" }
          = "必須"
        %br/
        = f.text_field :name, placeholder: "商品名を入力してください", required: true
        %br/
      .form-container__contents--menu
        カテゴリー
        %span{ class: "must" }
          = "必須"
        %br/
        = f.collection_select :category_id, Category.all, :id, :name, autofocus: true
        %br/
      .form-container__contents--menu
        詳細
        %span{ class: "must" }
          = "必須"
        %br/
      .form-container__contents--detail
        = f.text_area :detail, placeholder: "商品の詳細を入力してください", cols: "50", rows: "10", required: true
        %br/
      .form-container__contents--menu
        ブランド
        %br/
        = f.text_field :brand, placeholder: "ブランド名を入力してください(任意)"
        %br/
      .form-container__contents--menu
        値段
        %span{ class: "must" }
          = "必須"
        %br/
        = f.text_field :price, placeholder: "値段を入力してください", required: true
        %br/
      .form-container__contents--menu
        商品の状態
        %span{ class: "must" }
          = "必須"
        %br/
        = f.select :item_status, {'新品同様': 1, '多少の傷あり': 2},include_blank: '選択してください', required: true
        %br/
      .form-container__contents--menu
        都道府県
        %span{ class: "must" }
          = "必須"
        %br/
        = f.collection_select :prefecture_id, Prefecture.all, :id, :name, include_blank: '選択してください',  autofocus: true, autocomplete: "address-level1"
        %br/
      .form-container__contents--menu
        発送日数
        %span{ class: "must" }
          = "必須"
        %br/
        = f.select :days_until_shipping, {'1~2日で発送': 1, '3~4日で発送': 2, '5~7日で発送': 3}, include_blank: '選択してください', required: true
        %br/
      .form-container__contents--menu
        送料
        %span{ class: "must" }
          = "必須"
        %br/
        = f.select :shipping_fee, {'送料込み(出品者負担)': 1, '着払い(購入者負担)': 2}, include_blank: '選択してください', required: true
        %br/
      .none
        = f.select :sale_or_sold, {'在庫あり': 1, '品切れ': 2}, choices: 1
        %br/
      .form-container__contents--menu
        画像 (最大５枚までアップロードできます)
        %span{ class: "must" }
          = "必須"
      .form-container__contents--images
        #image-box
          #previews
            -if @item.persisted?
              - @item.item_images.each_with_index do |image, i|
                .preview-box
                  = image_tag image.url.url, data: {index: i}, width: "100", height: "100", class: 'preview__image'
                  .preview-text
                    .preview__edit{data: {index: i}}
                      変更
                    .preview__delete.js-remove{data: {index: i}}
                      削除
          #image-field
            = icon("fa", "camera")
            = f.fields_for :item_images do |i|
              .js-file_group{data: {index: i.index}}
                = i.file_field :url, class: "js-file", data:{ index: i.index}
              - if @item.persisted?
                = i.check_box :_destroy, data:{ index: i.index }, class: 'hidden-destroy'
            - if @item.persisted?
              .js-file_group{data: {index: @item.item_images.count}}
                = file_field_tag :url, name: "item[item_images_attributes][#{@item.item_images.count}][url]", class: 'js-file'
        %br/
        .submit-btn
          = f.submit '出品する', class: "form-container__contents--btn"
